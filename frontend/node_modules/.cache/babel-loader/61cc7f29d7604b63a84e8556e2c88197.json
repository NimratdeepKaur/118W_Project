{"ast":null,"code":"import _slicedToArray from \"/Users/nimratdeepkaur/Desktop/proshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nimratdeepkaur/Desktop/proshop/frontend/src/screens/LoginScreen.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { login } from \"../actions/userActions\";\nimport FormContainer from \"../components/FormContainer\";\n\nvar LoginScreen = function LoginScreen() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var dispatch = useDispatch();\n  var location = useLocation();\n  var navigate = useNavigate();\n  var userLogin = useSelector(function (state) {\n    return state.userLogin;\n  });\n  var loading = userLogin.loading,\n      userInfo = userLogin.userInfo,\n      error = userLogin.error;\n  console.log(\"before\");\n  console.log(location.search);\n  console.log(\"after\"); // const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n\n  var redirect = \"/\";\n  useEffect(function () {\n    if (userInfo) {\n      navigate({\n        redirect: redirect\n      });\n    }\n  }, [navigate, redirect, userInfo]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Sign In\"), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    className: \"my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Sign In\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"New Customer?\", \" \", /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? \"/register?redirect=\".concat(redirect) : \"/register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Register\"))));\n};\n\nexport default LoginScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","Form","Button","Row","Col","useDispatch","useSelector","Message","Loader","login","FormContainer","LoginScreen","email","setEmail","password","setPassword","dispatch","location","navigate","userLogin","state","loading","userInfo","error","console","log","search","redirect","submitHandler","e","preventDefault","target","value"],"sources":["/Users/nimratdeepkaur/Desktop/proshop/frontend/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { login } from \"../actions/userActions\";\nimport FormContainer from \"../components/FormContainer\";\n\nconst LoginScreen = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { loading, userInfo, error } = userLogin;\n\n  console.log(\"before\");\n  console.log(location.search);\n  console.log(\"after\");\n\n  // const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  const redirect = \"/\";\n\n  useEffect(() => {\n    if (userInfo) {\n      navigate({ redirect });\n    }\n  }, [navigate, redirect, userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  return (\n    <FormContainer>\n      <h1>Sign In</h1>\n      {error && <Message variant=\"danger\">{error}</Message>}\n      {loading && <Loader />}\n      <Form onSubmit={submitHandler}>\n        <Form.Group controlId=\"email\">\n          <Form.Label className=\"my-2\">Email Address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId=\"password\">\n          <Form.Label className=\"my-2\">Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Enter password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Button type=\"submit\" variant=\"primary\" className=\"my-3\">\n          Sign In\n        </Button>\n      </Form>\n\n      <Row className=\"py-3\">\n        <Col>\n          New Customer?{\" \"}\n          <Link to={redirect ? `/register?redirect=${redirect}` : \"/register\"}>\n            Register\n          </Link>\n        </Col>\n      </Row>\n    </FormContainer>\n  );\n};\n\nexport default LoginScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}